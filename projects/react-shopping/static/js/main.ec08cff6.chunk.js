(this["webpackJsonpreact-shopping-cart"]=this["webpackJsonpreact-shopping-cart"]||[]).push([[0],{28:function(e,t,a){e.exports=a(50)},33:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),c=a.n(l),i=(a(33),a(1)),s=a(2),o=a(5),u=a(4);function m(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "}var d=a(10),p=a.n(d),E=a(11),v=a.n(E),f=a(12),h=a.n(f),g=a(3),_=a(19),b=a.n(_),O=a(26),C=a(6),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).openModal=function(e){r.setState({product:e})},r.closeModal=function(){r.setState({product:null})},r.state={product:null},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.state.product;return n.a.createElement("div",null,n.a.createElement(p.a,{bottom:!0,casade:!0},this.props.products?n.a.createElement("ul",{className:"products"},this.props.products.map((function(t){return n.a.createElement("li",{key:t._id},n.a.createElement("div",{className:"product"},n.a.createElement("a",{href:"#"+t._id,onClick:function(){return e.openModal(t)}},n.a.createElement("img",{src:t.image,alt:t.title}),n.a.createElement("p",null,t.description)),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",null,m(t.price)),n.a.createElement("button",{onClick:function(){return e.props.addToCart(t)},className:"button primary"},"Add To Cart"))))}))):n.a.createElement("div",null,"Loading ...")),t&&n.a.createElement(h.a,{isOpen:!0,onRequestClose:this.closeModal},n.a.createElement(v.a,null,n.a.createElement("button",{className:"close-modal",onClick:this.closeModal},"x"),n.a.createElement("div",{className:"product-details"},n.a.createElement("img",{src:t.image,alt:t.title}),n.a.createElement("div",{className:"product-details-description"},n.a.createElement("p",null,n.a.createElement("strong",null,t.title)),n.a.createElement("p",null,t.description),n.a.createElement("p",null,"Avaiable Sizes: "," ",t.availableSizes.map((function(e){return n.a.createElement("span",null," ",n.a.createElement("button",{className:"button"},e))}))),n.a.createElement("div",{className:"product-price"},n.a.createElement("span",null,m(t.price)),n.a.createElement("button",{className:"button primary",onClick:function(){e.props.addToCart(t),e.closeModal()}}," Add to Cart")))))))}}]),a}(r.Component),L=Object(g.b)((function(e){return{products:e.products.filteredItems}}),{fetchProducts:function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FETCH_PRODUCTS",payload:[{_id:"8JlCq1yvw",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 1",image:"images/dress1.jpg",price:29.9,title:"Dress 1"},{_id:"I2ivd9tKl",__v:0,availableSizes:["X","L","XL","M","XXL"],description:"M\u1eabu s\u1ed1 2",image:"images/dress2.jpg",price:18.9,title:"Dress 2"},{_id:"MLc5ipULj",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 3",image:"images/dress3.jpg",price:19.9,title:"Dress 3"},{_id:"KMFv5RPVn",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 4",image:"images/dress4.jpg",price:39.9,title:"Dress 4"},{_id:"tYAAB-ti_",__v:0,availableSizes:["X","L","XL","S","XXL"],description:"M\u1eabu s\u1ed1 5",image:"images/dress5.jpg",price:49.9,title:"Dress 5"},{_id:"6aMbtpfDc",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 6",image:"images/dress6.jpg",price:29.9,title:"Dress 6"},{_id:"ZcoGSX8HU",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 7",image:"images/dress3.jpg",price:27.9,title:"Dress 7"},{_id:"FA9rpHGoJ",__v:0,availableSizes:["X","L","XL","XXL"],description:"M\u1eabu s\u1ed1 7",image:"images/dress3.jpg",price:27.9,title:"Dress 7"}]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addToCart:function(e){return function(t,a){var r=a().cart.cartItems.slice(),n=!1;r.forEach((function(t){t._id===e._id&&(n=!0,t.count++)})),n||r.push(Object(C.a)(Object(C.a)({},e),{},{count:1})),t({type:"ADD_TO_CART",payload:{cartItems:r}}),localStorage.setItem("cartItems",JSON.stringify(r))}}})(y),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.props.filteredProducts?n.a.createElement("div",{className:"filter"},n.a.createElement("div",{className:"filter-result"},this.props.filteredProducts.length," Product"),n.a.createElement("div",{className:"filter-sort"},"Order"," ",n.a.createElement("select",{value:this.props.sort,onChange:function(t){return e.props.sortProducts(e.props.products,t.target.value)}},n.a.createElement("option",{value:"latest"},"Latest"),n.a.createElement("option",{value:"lowest"},"Lowest"),n.a.createElement("option",{value:"highest"},"Highest"))),n.a.createElement("div",{className:"filter-size"},"Filter"," ",n.a.createElement("select",{value:this.props.size,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)}},n.a.createElement("option",{value:""},"ALL"),n.a.createElement("option",{value:"XS"},"XS"),n.a.createElement("option",{value:"S"},"S"),n.a.createElement("option",{value:"M"},"M"),n.a.createElement("option",{value:"L"},"L"),n.a.createElement("option",{value:"XL"},"XL"),n.a.createElement("option",{value:"XXL"},"XXL")))):n.a.createElement("div",null,"Loading...")}}]),a}(r.Component),X=Object(g.b)((function(e){return{size:e.products.size,sort:e.products.sort,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(a){a({type:"FILTER_PRODUCTS_BY_SIZE",payload:{size:t,items:""===t?e:e.filter((function(e){return e.availableSizes.indexOf(t)>=0}))}})}},sortProducts:function(e,t){return function(a){var r=e.slice();"latest"===t?r.sort((function(e,t){return e._id>t._id?1:-1})):r.sort((function(e,a){return"lowest"===t?e.price>a.price?1:-1:e.price>a.price?-1:1})),a({type:"ORDER_PRODUCTS_BY_PRICE",payload:{sort:t,items:r}})}}})(S),I=a(13),R=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleInput=function(e){r.setState(Object(I.a)({},e.target.name,e.target.value))},r.closeModal=function(){r.props.clearOrder()},r.createOrder=function(e){e.preventDefault();var t={name:r.state.name,email:r.state.email,address:r.state.address,cartItems:r.props.cartItems,total:r.props.cartItems.reduce((function(e,t){return e+t.price*t.count}),0)};r.props.createOrder(t)},r.state={showCheckout:!1,name:"",email:"",address:""},r}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.cartItems,r=t.order;return n.a.createElement("div",null,0===a.length?n.a.createElement("div",{className:"cart cart-header"}," Gi\u1ecf h\xe0ng tr\u1ed1ng "):n.a.createElement("div",{className:"cart cart-header"},"B\u1ea1n c\xf3 ",a.length," s\u1ea3n ph\u1ea9m trong gi\u1ecf h\xe0ng"," "),r&&n.a.createElement(h.a,{isOpen:!0,onRequestClose:this.closeModal},n.a.createElement(v.a,null,n.a.createElement("button",{className:"close-modal",onClick:this.closeModal},"x"),n.a.createElement("div",{className:"order-details"},n.a.createElement("h3",{className:"success-message"},"B\u1ea1n \u0111\xe3 \u0111\u1eb7t h\xe0ng th\xe0nh c\xf4ng!"),n.a.createElement("h2",null,"Order ",r._id),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("div",null,"Name:"),n.a.createElement("div",null,r.name)),n.a.createElement("li",null,n.a.createElement("div",null,"Email:"),n.a.createElement("div",null,r.email)),n.a.createElement("li",null,n.a.createElement("div",null,"Address:"),n.a.createElement("div",null,r.address)),n.a.createElement("li",null,n.a.createElement("div",null,"Date:"),n.a.createElement("div",null,r.createdAt)),n.a.createElement("li",null,n.a.createElement("div",null,"Total:"),n.a.createElement("div",null,m(r.total))),n.a.createElement("li",null,n.a.createElement("div",null,"Cart Items:"),n.a.createElement("div",null,r.cartItems.map((function(e,t){return n.a.createElement("div",{key:t},e.count," "," x "," ",e.title)})))))))),n.a.createElement("div",{className:"cart"},n.a.createElement(p.a,{left:!0,cascade:!0},n.a.createElement("ul",{className:"cart-items"},a.map((function(t){return n.a.createElement("li",{key:t._id},n.a.createElement("div",null,n.a.createElement("img",{src:t.image,alt:t.title})),n.a.createElement("div",null,n.a.createElement("div",null,t.description),n.a.createElement("div",{className:"right"},t.price," x ",t.count,n.a.createElement("button",{className:"button",onClick:function(){return e.props.removeFromCart(t)}},"Remove"))))}))))),0!==a.length&&n.a.createElement("div",null,n.a.createElement("div",{className:"cart"},n.a.createElement("div",{className:"total"},n.a.createElement("div",null,"T\u1ed5ng ti\u1ec1n: "," ",m(a.reduce((function(e,t){return e+t.price*t.count}),0))),n.a.createElement("button",{className:"button primary",onClick:function(){e.setState({showCheckout:!0})}},"Thanh to\xe1n"))),this.state.showCheckout&&n.a.createElement(p.a,{right:!0,casade:!0},n.a.createElement("div",{className:"cart"},n.a.createElement("form",{onSubmit:this.createOrder},n.a.createElement("ul",{className:"form-container"},n.a.createElement("li",null,n.a.createElement("label",null,"Email"),n.a.createElement("input",{type:"email",name:"email",required:!0,onChange:this.handleInput})),n.a.createElement("li",null,n.a.createElement("label",null,"Name"),n.a.createElement("input",{type:"text",name:"name",required:!0,onChange:this.handleInput})),n.a.createElement("li",null,n.a.createElement("label",null,"Address"),n.a.createElement("input",{type:"text",name:"address",required:!0,onChange:this.handleInput})),n.a.createElement("li",null,n.a.createElement("button",{className:"button primary",type:"submit"},"Checkout"))))))))}}]),a}(r.Component),N=Object(g.b)((function(e){return{order:e.order.order,cartItems:e.cart.cartItems}}),{removeFromCart:function(e){return function(t,a){var r=a().cart.cartItems.slice().filter((function(t){return t._id!==e._id}));t({type:"REMOVE_FROM_CART",payload:{cartItems:r}}),localStorage.setItem("cartItems",JSON.stringify(r))}},createOrder:function(e){return function(t){t({type:"CREATE_ORDER",payload:{_id:1,__v:2,address:e.address,name:e.name,email:e.email,total:e.total,cartItems:e.cartItems}}),localStorage.clear("cartItems"),t({type:"CLEAR_CART"})}},clearOrder:function(){return function(e){e({type:"CLEAR_ORDER"})}}})(R),j=a(7),D=a(27),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,T=Object(j.e)(Object(j.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PRODUCTS_BY_SIZE":return Object(C.a)(Object(C.a)({},e),{},{size:t.payload.size,filteredItems:t.payload.items});case"ORDER_PRODUCTS_BY_PRICE":return Object(C.a)(Object(C.a)({},e),{},{sort:t.payload.sort,filteredItems:t.payload.items});case"FETCH_PRODUCTS":return{items:t.payload,filteredItems:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return{cartItems:t.payload.cartItems};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER":return{order:t.payload};case"CLEAR_ORDER":return{order:null};default:return e}}}),{},M(Object(j.a)(D.a))),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(g.a,{store:T},n.a.createElement("div",{className:"grid-container"},n.a.createElement("header",null,n.a.createElement("a",{href:"/"},"React Shopping Cart")),n.a.createElement("main",null,n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"main"},n.a.createElement(X,null),n.a.createElement(L,null)),n.a.createElement("div",{className:"sidebar"},n.a.createElement(N,null)))),n.a.createElement("footer",null,"All right is reserved")))}}]),a}(n.a.Component);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(A,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.ec08cff6.chunk.js.map