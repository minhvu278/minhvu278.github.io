{"version":3,"sources":["util.js","components/Products.js","actions/productAction.js","types.js","actions/cartAction.js","components/Filter.js","components/Cart.js","actions/orderAction.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/orderReducer.js","App.js","index.js"],"names":["formatCurrency","num","Number","toFixed","toLocaleString","Products","props","openModal","product","setState","closeModal","state","this","fetchProducts","bottom","casade","products","className","map","key","_id","href","onClick","src","image","alt","title","description","price","addToCart","isOpen","onRequestClose","availableSizes","x","Component","connect","filteredItems","dispatch","a","type","payload","getState","cartItems","cart","slice","alreadyExists","forEach","count","push","localStorage","setItem","JSON","stringify","Filter","filteredProducts","length","value","sort","onChange","e","sortProducts","target","size","filterProducts","items","filter","indexOf","sortedProducts","b","Cart","handleInput","name","clearOrder","createOrder","preventDefault","order","email","address","total","reduce","c","showCheckout","createdAt","index","left","cascade","item","removeFromCart","right","onSubmit","required","__v","clear","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","action","parse","getItem","applyMiddleware","thunk","App","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec08cff6.chunk.js","sourcesContent":["export default function formatCurrency(num) {\n    return \"$\" + Number(num.toFixed(1)).toLocaleString() + \" \";\n}","import React, {Component} from 'react';\nimport formatCurrency from \"../util\";\nimport Fade from \"react-reveal/Fade\";\nimport Zoom from \"react-reveal/Zoom\";\nimport Modal from \"react-modal\"\nimport {connect} from \"react-redux\"\nimport {fetchProducts} from \"../actions/productAction\";\nimport {addToCart} from \"../actions/cartAction\";\n\nclass Products extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            product: null,\n        }\n    }\n\n    componentDidMount() {\n        this.props.fetchProducts();\n    }\n\n    openModal = (product) => {\n        this.setState({product});\n    }\n    closeModal = () => {\n        this.setState({product: null});\n    }\n\n    render() {\n        const {product} = this.state\n        return (\n            <div>\n                <Fade bottom casade>\n                    {\n                        !this.props.products ? (\n                                <div>Loading ...</div>\n                            ) :\n                            (\n                                <ul className=\"products\">\n                                    {this.props.products.map((product) => (\n                                        <li key={product._id}>\n                                            <div className=\"product\">\n                                                <a href={\"#\" + product._id} onClick={() => this.openModal(product)}>\n                                                    <img src={product.image} alt={product.title}/>\n                                                    <p>{product.description}</p>\n                                                </a>\n                                                <div className=\"product-price\">\n                                                    <span>{formatCurrency(product.price)}</span>\n                                                    <button onClick={() => this.props.addToCart(product)}\n                                                            className=\"button primary\">\n                                                        Add To Cart\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    ))}\n                                </ul>\n                            )\n                    }\n                </Fade>\n                {product && (\n                    <Modal\n                        isOpen={true}\n                        onRequestClose={this.closeModal}\n                    >\n                        <Zoom>\n                            <button className=\"close-modal\" onClick={this.closeModal}>x</button>\n                            <div className=\"product-details\">\n                                <img src={product.image} alt={product.title}/>\n                                <div className=\"product-details-description\">\n                                    <p>\n                                        <strong>{product.title}</strong>\n                                    </p>\n                                    <p>{product.description}</p>\n                                    <p>\n                                        Avaiable Sizes: {\" \"}\n                                        {product.availableSizes.map((x) => (\n                                            <span>\n                                            {\" \"}\n                                                <button className=\"button\">{x}</button>\n                                        </span>\n                                        ))}\n                                    </p>\n                                    <div className=\"product-price\">\n                                        <span>{formatCurrency(product.price)}</span>\n                                        <button className=\"button primary\" onClick={() => {\n                                            this.props.addToCart(product);\n                                            this.closeModal();\n                                        }}> Add to Cart\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </Zoom>\n                    </Modal>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default connect((state) => ({\n    products: state.products.filteredItems\n}), {\n    fetchProducts,\n    addToCart\n})(Products);","import {FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE} from \"../types\";\n\nexport const fetchProducts = () => async (dispatch) => {\n    // const res = await fetch(\"/api/products\");\n    const data = [\n        {\n            \"_id\": \"8JlCq1yvw\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 1\",\n            \"image\": \"images/dress1.jpg\",\n            \"price\": 29.9,\n            \"title\": \"Dress 1\"\n        },\n        {\n            \"_id\": \"I2ivd9tKl\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"M\", \"XXL\"],\n            \"description\": \"Mẫu số 2\",\n            \"image\": \"images/dress2.jpg\",\n            \"price\": 18.9,\n            \"title\": \"Dress 2\"\n        },\n        {\n            \"_id\": \"MLc5ipULj\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 3\",\n            \"image\": \"images/dress3.jpg\",\n            \"price\": 19.9,\n            \"title\": \"Dress 3\"\n        },\n        {\n            \"_id\": \"KMFv5RPVn\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 4\",\n            \"image\": \"images/dress4.jpg\",\n            \"price\": 39.9,\n            \"title\": \"Dress 4\"\n        },\n        {\n            \"_id\": \"tYAAB-ti_\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"S\", \"XXL\"],\n            \"description\": \"Mẫu số 5\",\n            \"image\": \"images/dress5.jpg\",\n            \"price\": 49.9,\n            \"title\": \"Dress 5\"\n        },\n        {\n            \"_id\": \"6aMbtpfDc\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 6\",\n            \"image\": \"images/dress6.jpg\",\n            \"price\": 29.9,\n            \"title\": \"Dress 6\"\n        },\n        {\n            \"_id\": \"ZcoGSX8HU\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 7\",\n            \"image\": \"images/dress3.jpg\",\n            \"price\": 27.9,\n            \"title\": \"Dress 7\"\n        },\n        {\n            \"_id\": \"FA9rpHGoJ\",\n            \"__v\": 0,\n            \"availableSizes\": [\"X\", \"L\", \"XL\", \"XXL\"],\n            \"description\": \"Mẫu số 7\",\n            \"image\": \"images/dress3.jpg\",\n            \"price\": 27.9,\n            \"title\": \"Dress 7\"\n        }\n    ]\n    dispatch({\n        type: FETCH_PRODUCTS,\n        payload: data\n    });\n};\n\nexport const filterProducts = (products, size) => (dispatch) => {\n    dispatch({\n        type: FILTER_PRODUCTS_BY_SIZE,\n        payload: {\n            size: size,\n            items:\n                size === \"\"\n                    ? products\n                    : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n        },\n    });\n};\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\n    const sortedProducts = filteredProducts.slice();\n    if (sort === \"latest\"){\n        sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1))\n    }else {\n        sortedProducts.sort((a, b) =>\n            sort === \"lowest\"\n                ? a.price > b.price\n                ? 1\n                : -1\n                : a.price > b.price\n                ? -1\n                : 1\n        );\n    }\n    dispatch({\n        type: ORDER_PRODUCTS_BY_PRICE,\n        payload: {\n            sort: sort,\n            items: sortedProducts\n        }\n    })\n}","export const FETCH_PRODUCTS = \"FETCH_PRODUCTS\";\nexport const FILTER_PRODUCTS_BY_SIZE = \"FILTER_PRODUCTS_BY_SIZE\";\nexport const ORDER_PRODUCTS_BY_PRICE = \"ORDER_PRODUCTS_BY_PRICE\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\nexport const CREATE_ORDER = \"CREATE_ORDER\";\nexport const CLEAR_ORDER = \"CLEAR_ORDER\";\nexport const CLEAR_CART = \"CLEAR_CART\";","import {ADD_TO_CART, REMOVE_FROM_CART} from \"../types\";\n\nexport const addToCart = (product) => (dispatch, getState) => {\n    const cartItems = getState().cart.cartItems.slice();\n    let alreadyExists = false;\n    cartItems.forEach((x) => {\n        if (x._id === product._id){\n            alreadyExists = true;\n            x.count++;\n        }\n    });\n    if (!alreadyExists){\n        cartItems.push({\n            ...product,\n            count: 1\n        });\n    }\n    dispatch({\n        type: ADD_TO_CART,\n        payload: {cartItems}\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems))\n}\n\nexport const removeFromCart = (product) => (dispatch, getState) => {\n    const cartItems = getState().cart.cartItems.slice().filter((x) => x._id !== product._id);\n    dispatch({\n        type: REMOVE_FROM_CART,\n        payload: {cartItems}\n    })\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems))\n}\n","import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\nimport {filterProducts, sortProducts} from \"../actions/productAction\";\n\nclass Filter extends Component {\n    render() {\n        return !this.props.filteredProducts ? (\n            <div>Loading...</div>) : (\n            <div className=\"filter\">\n                <div className=\"filter-result\">{this.props.filteredProducts.length} Product</div>\n                <div className=\"filter-sort\">\n                    Order{\" \"}\n                    <select value={this.props.sort}\n                            onChange={(e) =>\n                                this.props.sortProducts(this.props.products, e.target.value)\n                            }>\n                        <option value=\"latest\">Latest</option>\n                        <option value=\"lowest\">Lowest</option>\n                        <option value=\"highest\">Highest</option>\n                    </select>\n                </div>\n                <div className=\"filter-size\">\n                    Filter{\" \"}\n                    <select value={this.props.size}\n                            onChange={(e) => this.props.filterProducts(this.props.products, e.target.value)}>\n                        <option value=\"\">ALL</option>\n                        <option value=\"XS\">XS</option>\n                        <option value=\"S\">S</option>\n                        <option value=\"M\">M</option>\n                        <option value=\"L\">L</option>\n                        <option value=\"XL\">XL</option>\n                        <option value=\"XXL\">XXL</option>\n                    </select>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    (state) => ({\n        size: state.products.size,\n        sort: state.products.sort,\n        products: state.products.items,\n        filteredProducts: state.products.filteredItems\n    }),\n    {\n        filterProducts,\n        sortProducts\n    }\n)(Filter);","import React, {Component} from 'react';\nimport formatCurrency from \"../util\";\nimport Fade from \"react-reveal/Fade\";\nimport {removeFromCart} from \"../actions/cartAction\";\nimport {connect} from \"react-redux\";\nimport {createOrder, clearOrder} from \"../actions/orderAction\";\nimport Zoom from \"react-reveal/Zoom\";\nimport Modal from \"react-modal\"\n\nclass Cart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showCheckout: false,\n            name: \"\",\n            email: \"\",\n            address: \"\"\n        }\n    }\n\n    handleInput = (e) => {\n        this.setState({[e.target.name]: e.target.value});\n    }\n    closeModal = () => {\n        this.props.clearOrder();\n    }\n    createOrder = (e) => {\n        e.preventDefault();\n        const order = {\n            name: this.state.name,\n            email: this.state.email,\n            address: this.state.address,\n            cartItems: this.props.cartItems,\n            total: this.props.cartItems.reduce((a, c) => a + c.price * c.count, 0)\n        }\n        this.props.createOrder(order)\n    }\n\n    render() {\n        const {cartItems, order} = this.props\n        return (\n            <div>\n                {cartItems.length === 0 ? (<div className=\"cart cart-header\"> Giỏ hàng trống </div>) :\n                    (<div className=\"cart cart-header\">Bạn có {cartItems.length} sản phẩm trong giỏ hàng{\" \"}</div>)}\n                {\n                    order && (\n                        <Modal\n                            isOpen={true}\n                            onRequestClose={this.closeModal}\n                        >\n                            <Zoom>\n                                <button className=\"close-modal\" onClick={this.closeModal}>x</button>\n                                <div className=\"order-details\">\n                                    <h3 className=\"success-message\">Bạn đã đặt hàng thành công!</h3>\n                                    <h2>Order {order._id}</h2>\n                                    <ul>\n                                        <li>\n                                            <div>Name:</div>\n                                            <div>{order.name}</div>\n                                        </li>\n                                        <li>\n                                            <div>Email:</div>\n                                            <div>{order.email}</div>\n                                        </li>\n                                        <li>\n                                            <div>Address:</div>\n                                            <div>{order.address}</div>\n                                        </li>\n                                        <li>\n                                            <div>Date:</div>\n                                            <div>{order.createdAt}</div>\n                                        </li>\n                                        <li>\n                                            <div>Total:</div>\n                                            <div>{formatCurrency(order.total)}</div>\n                                        </li>\n                                        <li>\n                                            <div>Cart Items:</div>\n                                            <div>{order.cartItems.map((x, index) => (\n                                                <div key={index}>\n                                                    {x.count} {\" x \"} {x.title}\n                                                </div>\n                                            ))}</div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </Zoom>\n                        </Modal>\n                    )\n                }\n                <div className=\"cart\">\n                    <Fade left cascade>\n                        <ul className=\"cart-items\">\n                            {cartItems.map(item => (\n                                <li key={item._id}>\n                                    <div>\n                                        <img src={item.image} alt={item.title}/>\n                                    </div>\n                                    <div>\n                                        <div>{item.description}</div>\n                                        <div className=\"right\">\n                                            {item.price} x {item.count}\n                                            <button className=\"button\" onClick={() => this.props.removeFromCart(item)}>\n                                                Remove\n                                            </button>\n                                        </div>\n\n                                    </div>\n                                </li>\n                            ))}\n                        </ul>\n                    </Fade>\n                </div>\n                {cartItems.length !== 0 && (\n                    <div>\n                        <div className=\"cart\">\n                            <div className=\"total\">\n                                <div>\n                                    Tổng tiền: {\" \"}\n                                    {formatCurrency(cartItems.reduce((a, c) => a + c.price * c.count, 0))}\n                                </div>\n                                <button\n                                    className=\"button primary\"\n                                    onClick={() => {\n                                        this.setState({showCheckout: true})\n                                    }}\n                                >\n                                    Thanh toán\n                                </button>\n                            </div>\n                        </div>\n                        {this.state.showCheckout && (\n                            <Fade right casade>\n                                <div className=\"cart\">\n                                    <form onSubmit={this.createOrder}>\n                                        <ul className=\"form-container\">\n                                            <li>\n                                                <label>Email</label>\n                                                <input type=\"email\"\n                                                       name=\"email\"\n                                                       required\n                                                       onChange={this.handleInput}\n                                                />\n                                            </li>\n                                            <li>\n                                                <label>Name</label>\n                                                <input type=\"text\"\n                                                       name=\"name\"\n                                                       required\n                                                       onChange={this.handleInput}\n                                                />\n                                            </li>\n                                            <li>\n                                                <label>Address</label>\n                                                <input type=\"text\"\n                                                       name=\"address\"\n                                                       required\n                                                       onChange={this.handleInput}\n                                                />\n                                            </li>\n                                            <li>\n                                                <button className=\"button primary\" type=\"submit\">Checkout</button>\n                                            </li>\n                                        </ul>\n                                    </form>\n                                </div>\n                            </Fade>\n                        )}\n                    </div>\n                )}\n\n            </div>\n        );\n    }\n}\n\nexport default connect((state) => ({\n        order: state.order.order,\n        cartItems: state.cart.cartItems\n    }),\n    {removeFromCart, createOrder, clearOrder}\n)(Cart);","import {CLEAR_CART, CLEAR_ORDER, CREATE_ORDER} from \"../types\";\n\nexport const createOrder = (order) => (dispatch) => {\n    const data = {\n        _id: 1,\n        __v: 2,\n        address: order.address,\n        name: order.name,\n        email: order.email,\n        total: order.total,\n        cartItems: order.cartItems,\n\n    }\n\n    dispatch({\n        type: CREATE_ORDER,\n        payload: data\n    });\n    localStorage.clear(\"cartItems\");\n    dispatch({\n        type: CLEAR_CART\n    });\n\n    // fetch(\"api/orders\", {\n    //     method: \"POST\",\n    //     headers: {\n    //         \"Content-Type\" : \"application/json\"\n    //     },\n    //     body: JSON.stringify(order),\n    // }).then((res) => res.json()).then((data) => {\n    //\n    // });\n};\n\nexport const clearOrder = () => (dispatch) => {\n    dispatch({\n        type: CLEAR_ORDER\n    });\n}","import {createStore, applyMiddleware, combineReducers, compose} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport {productsReducer} from \"./reducers/productReducers\";\nimport {cartReducers} from \"./reducers/cartReducers\";\nimport {orderReducer} from \"./reducers/orderReducer\";\n\nconst initialState = {};\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n    combineReducers({\n        products: productsReducer,\n        cart: cartReducers,\n        order: orderReducer\n    }),\n    initialState,\n    composeEnhancer(applyMiddleware(thunk))\n);\nexport default store","import {FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE} from \"../types\";\n\nexport const productsReducer = (state = {}, action) => {\n    switch (action.type) {\n        case FILTER_PRODUCTS_BY_SIZE:\n            return {\n                ...state,\n                size: action.payload.size,\n                filteredItems: action.payload.items\n            }\n        case ORDER_PRODUCTS_BY_PRICE:\n            return {\n                ...state,\n                sort: action.payload.sort,\n                filteredItems: action.payload.items\n            }\n        case FETCH_PRODUCTS:\n            return {\n                items: action.payload,\n                filteredItems: action.payload\n            }\n        default:\n            return state;\n    }\n\n}","import {ADD_TO_CART, REMOVE_FROM_CART} from \"../types\";\n\nexport const cartReducers = (state = {cartItems: JSON.parse(localStorage.getItem(\"cartItems\") || \"[]\")}, action) => {\n    switch (action.type) {\n        case ADD_TO_CART:\n            return {cartItems: action.payload.cartItems}\n        case REMOVE_FROM_CART:\n            return {cartItems: action.payload.cartItems}\n        default:\n            return state\n    }\n}","import {CLEAR_ORDER, CREATE_ORDER} from \"../types\";\n\nconst orderReducer = (state = {}, action) => {\n    switch (action.type) {\n        case CREATE_ORDER:\n            return {order: action.payload};\n        case CLEAR_ORDER:\n            return {order: null};\n        default:\n            return state\n    }\n};\nexport {orderReducer}","// feature 1\nimport React from 'react';\nimport Products from \"./components/Products\";\nimport Filter from \"./components/Filter\";\nimport Cart from \"./components/Cart\";\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <div className=\"grid-container\">\n                    <header>\n                        <a href=\"/\">React Shopping Cart</a>\n                    </header>\n                    <main>\n                        <div className=\"content\">\n                            <div className=\"main\">\n                                <Filter/>\n                                <Products />\n                            </div>\n                            <div className=\"sidebar\">\n                                <Cart />\n                            </div>\n                        </div>\n                    </main>\n                    <footer>\n                        All right is reserved\n                    </footer>\n                </div>\n            </Provider>\n        )\n    }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}